{% extends "base.html" %}

{% block content %}
    <h1>Получить параметры по наблюдаемому городу на текущий момент</h1>

    <form action="" method="post">
      <input type="text" name="city_name" placeholder="Название города" value="{{ city_name }}">
      <input type="text" onkeypress='validate_int(event)' required name="req_time" placeholder="Час (0-23)" value="{{ req_time }}">
      <div>
        {% if params %}
          {% for param in params %}
                <input class="form-check-input" type="checkbox" name="params" value="{{ param }}"/>
                {% if params_desc and params_desc[param] %}
                  <label for="param">{{ params_desc[param] }}</label> <br>
                {% else %}
                  <label for="param">{{ param }}</label> <br>
                {% endif %}
          {% endfor %}
        {% endif %}
      </div>
      <p>
        <input class="submit" type="submit" value="Отправить">
      </p>
    </form>

    {% if details %}
    <div class="container border">
        <div class="row">
            <div class="col bg-info">Параметр</div>
            <div class="col bg-info">Значение</div>
            <div class="col bg-info">Единица измерения</div>
        </div>
        {% for key in details.hourly_units %}
            <div class="row">
                {% if params_desc and params_desc[key] %}
                  <div class="col">{{ params_desc[key] }}</div>
                {% else %}
                  <div class="col">{{ key }}</div>
                {% endif %}
                <div class="col">{{ details.hourly[key] }}</div>
                <div class="col">{{ details.hourly_units[key] }}</div>
            </div>
        {% endfor %}
    </div>
    {% endif %}

{% endblock %}